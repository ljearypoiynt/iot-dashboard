# iot-dashboard now uses shared postgres instance from shared-data namespace
# This ExternalName service routes to the shared postgres service
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: iot-dashboard
type: Opaque
stringData:
  POSTGRES_PASSWORD: postgrespassword123
---
apiVersion: v1
kind: Service
metadata:
  name: postgres-service
  namespace: iot-dashboard
spec:
  type: ExternalName
  externalName: postgres-service.shared-data.svc.cluster.local
  ports:
  - protocol: TCP
    port: 5432
    targetPort: 5432
    name: postgres
